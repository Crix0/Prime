{% extends 'index.html' %}

<h2>Salas</h2>

{% block content %}
<div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Listado de Salas</h2>
        <div>
            <a href="{% url 'crear_salas' %}" class="btn btn-primary">Agregar Nueva Sala</a>
            <a href="{% url 'reset_sala' %}" class="btn btn-danger">Reset Sala</a>
            <a href="{% url 'rellenar_disponibilidad' %}" class="btn btn-warning">Rellenar Disponibilidad</a>
        </div>
        
    </div>

    <!-- Tabla con scroll horizontal y que ocupe toda la pantalla -->
    <div class="table-responsive" style="overflow-x: auto; max-height: 700px;">
        <table class="table table-dark table-bordered table-hover table-sm align-middle text-center" style="width: 100%;">
            <thead class="bg-dark text-white" style="position: sticky; top: 0; z-index: 10;">
                <tr>
                    <th>ID</th>
                    <th>Código ISO</th>
                    <th>Tipo de Sala</th>
                    <th>Descripción</th>
                    <th>Superficie (m²)</th>
                    <th>Ubicación</th>
                    <th>Cupo Estándar</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for sala in salas %}
                <tr>
                    <td>{{ sala.id }}</td>
                    <td>{{ sala.codigo_iso }}</td>
                    <td>{{ sala.tipo_sala }}</td>
                    <td>{{ sala.descripcion }}</td>
                    <td>{{ sala.sup_m2 }}</td>
                    <td>{{ sala.ubicacion }}</td>
                    <td>{{ sala.cupo_estandar }}</td>
                    <td>
                        <a href="{% url 'editar_salas' sala.id %}" class="btn btn-warning btn-sm">Editar</a>
                        <a href="{% url 'eliminar_salas' sala.id %}" class="btn btn-danger btn-sm">Eliminar</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="text-center">No hay salas disponibles.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
